<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <ui:composition template="/WEB-INF/templates/defaultTemplate.xhtml">
        <ui:define name="title">
            <f:loadBundle var="i18nRegistration" basename="com.docdoku.server.localization.registrationForm_resource"/>
            #{i18nRegistration['title']}
        </ui:define>
        <ui:define name="content">

            <div id="sidebar" class="well well-large">
                <h3>#{i18nRegistration['sidebar.title']}</h3>
                <p><h:outputFormat value="#{i18nRegistration['sidebar.text']}" escape="false"/></p>
            </div>

            <h2>#{i18nRegistration['main.title']}</h2>

            <h3>#{i18nRegistration['section.title']}</h3>

            <h:form>
                <fieldset>
                    <h:outputLabel value="#{i18nRegistration['section.userid']}*:" for="login"/>
                    <h:inputText id="login" value="#{accountBean.login}" size="20" maxlength="50"/>

                    <h:outputLabel value="#{i18nRegistration['section.name']}*:" for="name"/>
                    <h:inputText id="name" value="#{accountBean.name}" size="20" maxlength="255"/>

                    <h:outputLabel value="#{i18nRegistration['section.email']}*:" for="email"/>
                    <h:inputText id="email" value="#{accountBean.email}" size="20" maxlength="255"/>

                    <h:outputLabel value="#{i18nRegistration['section.language']}*:" for="language"/>
                    <h:selectOneMenu id="language" value="#{accountBean.language}">
                        <f:selectItem id="browser-language-item" itemLabel="#{i18nRegistration['section.language.browser']} : #{accountBean.language}" itemValue="" />
                        <f:selectItem id="en-language-item" itemLabel="#{i18nRegistration['section.language.en']}" itemValue="en" />
                        <f:selectItem id="fr-language-item" itemLabel="#{i18nRegistration['section.language.fr']}" itemValue="fr" />
                    </h:selectOneMenu>

                    <br />

                    <h:outputLabel value="#{i18nRegistration['section.timeZone']}*:" for="timeZone"/>
                    <h:selectOneMenu id="timeZone" value="#{accountBean.timeZone}">
                        <f:selectItems value="#{accountBean.availableTimeZones}"/>
                    </h:selectOneMenu>

                    <br />

                    <h:outputLabel value="#{i18nRegistration['section.password']}*:" for="password"/>
                    <h:inputSecret label="#{i18nRegistration['section.password']}" binding="#{newPasswordInput}" id="password" value="#{accountBean.password}" immediate="true" required="true" size="20" maxlength="50"/>

                    <h:outputLabel value="#{i18nRegistration['section.confirmPassword']}*:" for="confirmPassword"/>
                    <h:inputSecret label="#{i18nRegistration['section.confirmPassword']}" binding="#{confirmPasswordInput}" id="confirmPassword" immediate="true" required="true" size="20" maxlength="50"/>

                    <h:inputHidden value="true">
                        <f:validator validatorId="samePasswordValidator" />
                        <f:attribute name="newPasswordInput" value="#{newPasswordInput}" />
                        <f:attribute name="confirmPasswordInput" value="#{confirmPasswordInput}" />
                    </h:inputHidden>
                    <br/>
                    <h:commandButton styleClass="btn" action="#{accountBean.register}" value="#{i18nRegistration['section.signup']}" alt="#{i18nRegistration['section.signup']}"/>

                </fieldset>
            </h:form>
        </ui:define>

    </ui:composition>
</html>
